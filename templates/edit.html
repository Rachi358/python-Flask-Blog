{% extends "layout.html" %}
{% block body %}
<header class="masthead" style="background-image: url('{{ url_for('static', filename='assets/img/home-bg.jpg') }}')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="site-heading">
                    <h1>{{params['tag_line']}}</h1>
                    <span class="subheading">Manage your posts and change them</span>
                </div>
            </div>
        </div>
    </div>
</header>
<div class="container py-4">
    <h3 class="mb-3">{{ 'New Post' if not post else 'Edit Post' }}</h3>
    <form method="post">
        <div class="mb-3">
            <label class="form-label">Title</label>
            <input class="form-control" name="title" value="{{ post.title if post }}">
        </div>
        <div class="mb-3">
            <label class="form-label">Slug</label>
            <input class="form-control" name="slug" value="{{ post.slug if post }}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Tagline</label>
            <input class="form-control" name="tagline" value="{{ post.tagline if post }}">
        </div>
        <div class="mb-3">
            <label class="form-label">Image filename (in uploads)</label>
            <input class="form-control" name="img_file" value="{{ post.img_file if post }}">
            <div class="form-text">Upload actual files from Dashboard → Upload.</div>
        </div>
        <div class="mb-3">
            <label class="form-label">Content (HTML allowed)</label>
            <textarea class="form-control" name="content" rows="10">{{ post.content if post }}</textarea>
        </div>
        <button class="btn btn-primary">Save</button>
        <a class="btn btn-secondary" href="{{ url_for('dashboard') }}">Cancel</a>
    </form>
</div>
{% endblock %}






{#
{% extends "layout.html" %}
{% block body %}-->

<!-- Page Header-->
<header class="masthead" style="background-image: url('{{ url_for('static', filename='assets/img/home-bg.jpg') }}')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="site-heading">
                    <h1>{{params['tag_line']}}</h1>
                    <span class="subheading">Manage your posts and change them</span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Main Content-->
<div class="container px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
            <h1>Basic Actions</h1>
            <a href="/login"><button class="btn btn-primary text-uppercase">Dashboard Home</button></a>
            <a href="/logout"><button class="btn btn-primary text-uppercase">LOGOUT</button></a>
            <hr>
            <hr>
            <h1>add/Edit posts</h1>

            <form id="postForm" name="addPost" method="POST" action="/edit/{{post.sr_no}}">
                <!-- Title -->
                <div class="form-floating mb-3">
                    <input class="form-control" id="title" name="title" type="text" placeholder="Enter post title..."
                        required value="{{post.title}}" />
                    <label for="title">Title</label>
                    <div class="invalid-feedback">A title is required.</div>
                </div>

                <!-- Tagline -->
                <div class="form-floating mb-3">
                    <input class="form-control" id="tagline" name="tagline" type="text" placeholder="Enter tagline..."
                        required value="{{post.tagline}}" />
                    <label for="tagline">Tagline</label>
                    <div class="invalid-feedback">A tagline is required.</div>
                </div>

                <!-- Slug -->
                <div class="form-floating mb-3">
                    <input class="form-control" id="slug" name="slug" type="text"
                        placeholder="Enter slug (e.g. hello-world)..." required value="{{post.slug}}" />
                    <label for="slug">Slug</label>
                    <div class="invalid-feedback">A slug is required.</div>
                </div>

                <!-- Content -->
                <div class="form-floating mb-3">
                    <textarea class="form-control" id="content" name="content" placeholder="Enter post content..."
                        style="height: 12rem;" required>{{post.content}}</textarea>
                    <label for="content">Content</label>
                    <div class="invalid-feedback">Content is required.</div>
                </div>

                <!-- Image File -->
                <div class="form-floating mb-3">
                    <input class="form-control" id="img_file" name="img_file" type="text"
                        placeholder="Enter image filename (e.g. post.jpg)" required value="{{post.img_file}}" />
                    <label for="img_file">Image File</label>
                    <div class="invalid-feedback">An image filename is required.</div>
                </div>

                <!-- Submit Button -->
                <button class="btn btn-primary w-100" type="submit">Publish Post</button>
            </form>

            <!-- Pager-->
            <div class="d-flex justify-content-end mb-4"><a class="btn btn-primary text-uppercase" href="#!">Older Posts
                    →</a></div>
        </div>
    </div>
</div>
{% endblock %}

#}